# ูุธุงู ูุนุงูุฌุฉ ุงูุตูุฑ ุงููุญุณู ููุนูุงุฑุงุช

## ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทููุฑ ูุธุงู ูุนุงูุฌุฉ ุตูุฑ ูุญุณู ุฎุตูุตุงู ูุตูุฑ ุงูุนูุงุฑุงุช ูุงูุจููุชุ ูููุฑ ุฌูุฏุฉ ุนุงููุฉ ูุน ุฃุญุฌุงู ูููุงุช ูุญุณูุฉ.

## ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

### ๐ผ๏ธ ุฃุญุฌุงู ุงูุตูุฑ ุงููุชุนุฏุฏุฉ
- **Full Size**: 1200x800 ุจูุณู (ุฌูุฏุฉ 90%) - ููุนุฑุถ ุงููุงูู
- **Large**: 800x533 ุจูุณู (ุฌูุฏุฉ 85%) - ููุนุฑุถ ุงููุจูุฑ
- **Medium**: 600x400 ุจูุณู (ุฌูุฏุฉ 80%) - ููุนุฑุถ ุงููุชูุณุท
- **Thumbnail**: 400x300 ุจูุณู (ุฌูุฏุฉ 75%) - ููุตูุฑ ุงููุตุบุฑุฉ
- **Small**: 300x200 ุจูุณู (ุฌูุฏุฉ 70%) - ูููุนุงููุฉ ุงูุณุฑูุนุฉ

### ๐ ูุณุจ ุงูุนุฑุถ ุฅูู ุงูุงุฑุชูุงุน
- **3:2** ููุฃุญุฌุงู ุงููุจูุฑุฉ ูุงููุชูุณุทุฉ (ูุซุงูู ูุตูุฑ ุงูุนูุงุฑุงุช)
- **4:3** ููุตูุฑ ุงููุตุบุฑุฉ (ุฃูุถู ููุนุฑุถ ุงููุตุบุฑ)

### ๐ง ุงูุชุญุณููุงุช ุงูุชูููุฉ
- ุชุญููู ุชููุงุฆู ุฅูู ุชูุณูู **WebP** ูุชูููุฑ ูุณุงุญุฉ ุงูุชุฎุฒูู
- ุถุบุท ุฐูู ูุญุงูุธ ุนูู ุงูุฌูุฏุฉ
- ูุนุงูุฌุฉ ูุชูุงุฒูุฉ ูุฌููุน ุงูุฃุญุฌุงู
- ุชูุธูู ุชููุงุฆู ูููููุงุช ุงููุคูุชุฉ

## ุฅุนุฏุงุฏุงุช ุงูุฌูุฏุฉ

```php
// config/images.php
'quality_settings' => [
    'full' => [
        'width' => 1200,
        'height' => 800,
        'quality' => 90,
        'aspect_ratio' => '3:2',
        'format' => 'webp'
    ],
    // ... ุจุงูู ุงูุฅุนุฏุงุฏุงุช
]
```

## ููุงุนุฏ ุงูุชุญูู ูู ุงูุตูุฑ

### ุฃููุงุน ุงููููุงุช ุงููุฏุนููุฉ
- JPEG (.jpeg, .jpg)
- PNG (.png)
- WebP (.webp)

### ุญุฏูุฏ ุงูุญุฌู
- **ุงูุญุฏ ุงูุฃูุตู**: 5 ููุฌุงุจุงูุช ููู ุตูุฑุฉ
- **ุงูุฃุจุนุงุฏ ุงูุฏููุง**: 400x300 ุจูุณู
- **ุงูุนุฏุฏ ุงูุฃูุตู**: 20 ุตูุฑุฉ ููู ุนูุงุฑ

### ุงูุชุญูู ุงูุชููุงุฆู
- ูุญุต ููุน ุงูููู ูุตุญุชู
- ุงูุชุฃูุฏ ูู ุงูุฃุจุนุงุฏ ุงูุฏููุง
- ูุญุต ุญุฌู ุงูููู
- ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช

## ุงุณุชุฎุฏุงู ุงููุธุงู

### 1. ุฑูุน ุงูุตูุฑ ุงูุนุงุฏูุฉ
```php
// ูู PropertyController
$validationErrors = $this->imageService->validateImage($file);
if (empty($validationErrors)) {
    $property->addMedia($file)
        ->usingName('Property Image')
        ->usingFileName(time() . '_' . $property->slug . '.webp')
        ->withResponsiveImages()
        ->toMediaCollection('images');
}
```

### 2. ุฑูุน ุตูุฑ Base64
```php
$processedImages = $this->imageService->processBase64Image($base64Image, $property->slug);
```

### 3. ุญุฐู ุงูุตูุฑ
```php
$this->imageService->deleteImageVariants($media);
$media->delete();
```

## ูููู ุงููููุงุช

```
app/
โโโ Services/
โ   โโโ ImageProcessingService.php    # ุฎุฏูุฉ ูุนุงูุฌุฉ ุงูุตูุฑ ุงูุฑุฆูุณูุฉ
โโโ Http/
โ   โโโ Controllers/Api/
โ   โ   โโโ PropertyController.php    # ุชุญุฏูุซ ููุงุณุชุฎุฏุงู ุงูุฎุฏูุฉ ุงูุฌุฏูุฏุฉ
โ   โโโ Requests/
โ   โ   โโโ StorePropertyRequest.php  # ููุงุนุฏ ุงูุชุญูู ุงููุญุณูุฉ
โ   โ   โโโ UpdatePropertyRequest.php # ููุงุนุฏ ุงูุชุญูู ุงููุญุณูุฉ
โ   โโโ Middleware/
โ       โโโ ValidateImageUpload.php   # ุงูุชุญูู ูู ุนุฏุฏ ุงูุตูุฑ
โโโ Models/
โ   โโโ Property.php                  # ุชุญุฏูุซ ุฅุนุฏุงุฏุงุช Media Library
config/
โโโ images.php                        # ุฅุนุฏุงุฏุงุช ูุนุงูุฌุฉ ุงูุตูุฑ
```

## ุงูุงุณุชุฌุงุจุฉ ูู API

### ุจูุงูุงุช ุงูุตูุฑุฉ ุงูููุนุงุฏุฉ
```json
{
  "id": 1,
  "url": "http://example.com/storage/properties/image.webp",
  "original": "http://example.com/storage/properties/original.webp",
  "full": "http://example.com/storage/properties/full.webp",
  "large": "http://example.com/storage/properties/large.webp",
  "medium": "http://example.com/storage/properties/medium.webp",
  "thumbnail": "http://example.com/storage/properties/thumbnail.webp",
  "small": "http://example.com/storage/properties/small.webp",
  "alt_text": "Property Image",
  "file_size": 245760,
  "mime_type": "image/webp"
}
```

## ุงูุฃูุงู ูุงูุฃุฏุงุก

### ุงูุญูุงูุฉ
- ูุญุต ููุน MIME ูููููุงุช
- ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
- ุญุฏูุฏ ุญุฌู ุงููููุงุช
- ุชูุธูู ุงูุจูุงูุงุช ุงููุตููุฉ

### ุงูุฃุฏุงุก
- ุถุบุท ุฐูู ููุตูุฑ
- ุชุญููู ุฅูู WebP ูุชูููุฑ ุงููุณุงุญุฉ
- ูุนุงูุฌุฉ ูุชูุงุฒูุฉ
- ุชุฎุฒูู ูุญุณู

## ุฑุณุงุฆู ุงูุฎุทุฃ

### ุฃุฎุทุงุก ุงูุชุญูู ุงูุดุงุฆุนุฉ
- `File size exceeds maximum allowed size of 5MB`
- `Image dimensions too small. Minimum size is 400x300 pixels`
- `File type not supported. Allowed types: jpeg, jpg, png, webp`
- `Maximum 20 images allowed per property`

## ุงูุชูุงูู ูุน Frontend

### ุฑูุน ุงูุตูุฑ
```javascript
const formData = new FormData();
formData.append('main_image', mainImageFile);
formData.append('images[]', imageFile1);
formData.append('images[]', imageFile2);

// ุฃู ุจุงุณุชุฎุฏุงู Base64
const base64Images = [base64String1, base64String2];
formData.append('base64_images', JSON.stringify(base64Images));
```

### ุนุฑุถ ุงูุตูุฑ
```javascript
// ุงุณุชุฎุฏุงู ุงูุญุฌู ุงูููุงุณุจ ุญุณุจ ุงูุณูุงู
const thumbnailUrl = property.gallery_urls[0].thumbnail;
const fullSizeUrl = property.gallery_urls[0].full;
```

## ุงูุตูุงูุฉ ูุงููุฑุงูุจุฉ

### ุชูุธูู ุงููููุงุช
- ุญุฐู ุชููุงุฆู ูููููุงุช ุงููุคูุชุฉ
- ุชูุธูู ุงูุตูุฑ ุนูุฏ ุญุฐู ุงูุนูุงุฑ
- ุฅุฒุงูุฉ ุฌููุน ุฃุญุฌุงู ุงูุตูุฑุฉ ุนูุฏ ุงูุญุฐู

### ุงููุฑุงูุจุฉ
- ุชุชุจุน ุฃุญุฌุงู ุงููููุงุช
- ูุฑุงูุจุฉ ุงุณุชุฎุฏุงู ุงูุชุฎุฒูู
- ุชุณุฌูู ุฃุฎุทุงุก ุงููุนุงูุฌุฉ

## ุงูุชุญุฏูุซุงุช ุงููุณุชูุจููุฉ

### ูููุฒุงุช ูุฎุทุทุฉ
- ุฏุนู ุชูุณููุงุช ุฅุถุงููุฉ (AVIF)
- ุถุบุท ุฃูุซุฑ ุฐูุงุกู
- ูุนุงูุฌุฉ ุงูุตูุฑ ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู
- ุชุญุณูู ุชููุงุฆู ููุฌูุฏุฉ

---

**ููุงุญุธุฉ**: ูุฐุง ุงููุธุงู ููุญุณู ุฎุตูุตุงู ูุตูุฑ ุงูุนูุงุฑุงุช ููููุฑ ุฃูุถู ุชูุงุฒู ุจูู ุงูุฌูุฏุฉ ูุญุฌู ุงูููู.